# –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å –∏ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –Ω—ë–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ DD.MM.YYYY
# üìå –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ç–∏–Ω—É, –µ—Å–ª–∏ –¥–∞—Ç–∞ –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏–ª–∏ –ª–æ–∂—å, –µ—Å–ª–∏ —Ç–∞–∫–∞—è –¥–∞—Ç–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞.
# üìå –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –¥–æ–≥–æ–≤–æ—Ä–∏–º—Å—è, —á—Ç–æ –≥–æ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ # [1, 9999].
# üìå –í–µ—Å—å –ø–µ—Ä–∏–æ–¥ (1 —è–Ω–≤–∞—Ä—è 1 –≥–æ–¥–∞ - 31 –¥–µ–∫–∞–±—Ä—è 9999 –≥–æ–¥–∞) –¥–µ–π—Å—Ç–≤—É–µ—Ç –ì—Ä–∏–≥–æ—Ä–∏–∞–Ω—Å–∫–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å.
# üìå –ü—Ä–æ–≤–µ—Ä–∫—É –≥–æ–¥–∞ –Ω–∞ –≤–∏—Å–æ–∫–æ—Å–Ω–æ—Å—Ç—å –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –∑–∞—â–∏—â—ë–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é.

# –í –º–æ–¥—É–ª—å —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–∞—Ç—ã –¥–æ–±–∞–≤—å—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –¥–∞—Ç—ã –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É.
from sys import argv

__all__ = ['check_exist']


def check_exist(input_date: str) -> bool:
    numbers = list(map(int, input_date.split('.')))
    day, month, year = numbers

    if 1 <= year <= 9999 or 1 <= month <= 12 or 1 <= day <= 31:
        match month:
            case 4 | 6 | 9 | 11:
                if day == 31:
                    return False
            case 2:
                if day == 29 and not _leap_year(year) or day > 29:
                    return False
                return True
            case _:
                return True
    return False


def _leap_year(year: int) -> bool:
    if year % 400 == 0:
        return True
    if year % 100 == 0:
        return False
    if year % 4 == 0:
        return True
    return False


if __name__ == '__main__':
    # print(f'01.01.0001 {check_exist("01.01.0001")}')
    # print(f'29.02.2022 {check_exist("29.02.2022")}')
    # print(f'29.02.2020 {check_exist("29.02.2020")}')
    # print(f'31.02.1977 {check_exist("31.02.1977")}')

    '''–û–∂–∏–¥–∞–µ–º –ø–µ—Ä–µ–¥–∞—á–∏ –æ–¥–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ - —Å—Ç—Ä–æ–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ DD.MM.YYYY'''
    name, arg = argv
    print(check_exist(arg))
